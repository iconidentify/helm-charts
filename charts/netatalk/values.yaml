# Netatalk Helm Chart Values

replicaCount: 1

image:
  repository: netatalk/netatalk
  tag: latest
  pullPolicy: Always

resources:
  requests:
    memory: "128Mi"
    cpu: "100m"
  limits:
    memory: "512Mi"
    cpu: "500m"

# AFP configuration
afp:
  user: "mac"
  pass: "mac"
  group: "dream"
  serverName: "FileServer"
  shareName: "Software"
  insecureAuth: "1"
  disableTimeMachine: "1"

# Service configuration
service:
  type: NodePort
  port: 548
  nodePort: 30548

# Persistence configuration
persistence:
  enabled: true
  # storageClass: ""  # Use default storage class
  share:
    size: 5Gi
    accessMode: ReadWriteOnce

# Probes
probes:
  readiness:
    exec:
      command:
        - pgrep
        - afpd
    initialDelaySeconds: 10
    periodSeconds: 30
  liveness:
    exec:
      command:
        - pgrep
        - afpd
    initialDelaySeconds: 30
    periodSeconds: 30

# Security context
securityContext:
  capabilities:
    add:
      - NET_ADMIN
